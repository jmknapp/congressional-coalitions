[Unit]
Description=FEC Data Scheduler Service
After=network.target mysql.service
Wants=mysql.service

[Service]
Type=simple
User=jmknapp
Group=jmknapp
WorkingDirectory=/home/jmknapp/congressional-coalitions
Environment=PATH=/home/jmknapp/congressional-coalitions/venv/bin
Environment=PYTHONPATH=/home/jmknapp/congressional-coalitions
Environment=FEC_API_KEY=your_fec_api_key_here
Environment=DATABASE_URL=mysql://congressional:congressional123@localhost/congressional_coalitions
ExecStart=/home/jmknapp/congressional-coalitions/venv/bin/python src/etl/fec_scheduler.py --daemon
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal

# Security settings
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/home/jmknapp/congressional-coalitions/logs

[Install]
WantedBy=multi-user.target
